{% set widget_slug = widget.slug if widget is defined else "ws-heartbeat" %}
{% set widget_ws_path = widget.ws_path if widget is defined and widget.ws_path else "/ws/ecc" %}
<section class="panel glow-panel ws-heartbeat" data-widget="{{ widget_slug }}" data-ws-path="{{ widget_ws_path }}" data-state="idle">
    <header class="ws-heartbeat__header">
        <div>
            <p class="ws-heartbeat__eyebrow">WebSocket</p>
            <h2>Heartbeat</h2>
            <p class="muted">Lightweight periodic ping loop.</p>
        </div>
        <span class="ws-heartbeat__status" data-role="status">Idle</span>
    </header>
    <div class="ws-heartbeat__controls">
        <label class="ws-heartbeat__tempo">
            <span>Tempo</span>
            <span data-control-value="tempo">1.0s</span>
        </label>
        <input class="ws-heartbeat__range" type="range" min="0.1" max="5" step="0.1" value="1.0" data-control="tempo" />
        <button class="ws-heartbeat__button" type="button" data-action="toggle">Start</button>
    </div>
</section>
